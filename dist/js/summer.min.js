!function(e){e.$summer={},e.summer={},e.api=e.summer,function(){var n=document.location.pathname.split("www")[0]+"www/cordova.js";if(_script=document.createElement("script"),_script.id="cordova_js",_script.type="text/javascript",_script.charset="utf-8",_script.async=!0,_script.src=n,_script.onload=function(n){e.$summer.cordova=e.cordova,e.summer.cordova=e.cordova,document.addEventListener("deviceready",function(){summer.winParam(function(e){"string"==typeof e&&(e=$summer.strToJson(e)),summer.pageParam=e,"function"==typeof summerready&&summerready(),"function"==typeof summerReady&&summerReady()})},!1)},navigator.platform.toLowerCase().indexOf("win")<0)try{fs=document.getElementsByTagName("script")[0],fs.parentNode.insertBefore(_script,fs)}catch(t){console.log(t)}}(),navigator.platform.toLowerCase().indexOf("win")>-1&&document.addEventListener("DOMContentLoaded",function(){"function"==typeof summerready&&summerready(),"function"==typeof summerReady&&summerReady()},!1),e.summer.require=function(e){return window.$summer.cordova!=window.cordova&&(alert("---------warnning : init cordova is too late!"),window.$summer.cordova=window.cordova,window.summer.cordova=window.cordova),"cordova"==e?window.summer.cordova:window.summer.cordova.require(e)},e.summer.canrequire=function(){return!(navigator.platform.toLowerCase().indexOf("win")>-1)},e.$summer.require=e.summer.require}(window),function(){String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")},String.prototype.isNullOrEmpty=function(){return"undefined"==typeof this||null===this||"string"==typeof this&&""==this},Number.prototype.add=function(e){var n=function(e,n){var t,r,a;try{t=e.toString().split(".")[1].length}catch(i){t=0}try{r=n.toString().split(".")[1].length}catch(i){r=0}return a=Math.pow(10,Math.max(t,r)),(e*a+n*a)/a};return n(e,this)},Number.prototype.sub=function(e){return this.add(this,-e)},Number.prototype.mul=function(e){var n=function(e,n){var t=0,r=e.toString(),a=n.toString();try{t+=r.split(".")[1].length}catch(i){}try{t+=a.split(".")[1].length}catch(i){}return Number(r.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,t)};return n(e,this)},Number.prototype.div=function(arg){var accDiv=function(arg1,arg2){var t1=0,t2=0,r1,r2;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math)return r1=Number(arg1.toString().replace(".","")),r2=Number(arg2.toString().replace(".","")),r1/r2*pow(10,t2-t1)};return accDiv(this,arg)},Array.prototype.remove=function(e){return isNaN(e)||e<0||e>=this.length?this:(this.splice(e,1),this)},Array.prototype.remove2=function(e){return isNaN(e)?this:e<0||e>=this.length?this:this.slice(0,e).concat(this.slice(e+1,this.length))},Array.prototype.remove3=function(e){if(isNaN(e)||e>this.length)return!1;for(var n=0,t=0;n<this.length;n++)this[n]!=this[e]&&(this[t++]=this[n]);this.length-=1},Array.prototype.insert=function(e,n){return this.splice(e,0,n)},Date.prototype.format=function(e){var n={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var t in n)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[t]:("00"+n[t]).substr((""+n[t]).length)));return e}}(),function(){var e=window.$summer||{};/android/gi.test(navigator.appVersion);e.os=function(e){var n={info:function(){var e=navigator.userAgent;navigator.appVersion;return{webKit:e.indexOf("AppleWebKit")>-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,platform:navigator.platform}}(),lang:(navigator.browserLanguage||navigator.language).toLowerCase()};return n.info.platform.toLowerCase().indexOf("win")>=0?"pc":n.info.android?"android":n.info.ios||n.info.iPhone||n.info.iPad?"ios":""}(e),e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.isEmptyObject=function(e){return"{}"===JSON.stringify(e)},e.alert=function(n){try{"string"==typeof n?alert(n):"object"==typeof n?alert(e.jsonToStr(n)):alert(n)}catch(t){alert(n)}},e.UUID=function(e){e=e||6,e=parseInt(e,10),e=isNaN(e)?6:e;for(var n="0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ",t=n.length-1,r="";e--;)r+=n[Math.round(Math.random()*t)];return r},e.isJSONObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},window.$isJSONObject=e.isJSONObject,e.isJSONArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},window.$isJSONArray=e.isJSONArray,e.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},window.$isFunction=e.isFunction,e.isEmpty=function(e){return!!(void 0==e||null==e||e.toString&&""==e.toString())},window.$isEmpty=e.isEmpty,window.$summer=window.$summer||e}(),function(e){var n=e.$summer||{};n.isElement=function(e){return!(!e||1!=e.nodeType)},n.addEvt=function(e,t,r,a){return n.isElement(e)?(a=a||!1,void(e.addEventListener&&e.addEventListener(t,r,a))):void console.warn("$summer.addEvt Function need el param, el param must be DOM Element")},n.rmEvt=function(e,t,r,a){return n.isElement(e)?(a=a||!1,void(e.removeEventListener&&e.removeEventListener(t,r,a))):void console.warn("$summer.rmEvt Function need el param, el param must be DOM Element")},n.one=function(e,t,r,a){if(!n.isElement(e))return void console.warn("$api.one Function need el param, el param must be DOM Element");a=a||!1;var i=this,o=function(){r&&r(),i.rmEvt(e,t,o,a)};i.addEvt(e,t,o,a)},n.dom=function(e,n){if(1===arguments.length&&"string"==typeof arguments[0]){if(document.querySelector)return document.querySelector(arguments[0])}else if(2===arguments.length&&e.querySelector)return e.querySelector(n)},n.domAll=function(e,n){if(1===arguments.length&&"string"==typeof arguments[0]){if(document.querySelectorAll)return document.querySelectorAll(arguments[0])}else if(2===arguments.length&&e.querySelectorAll)return e.querySelectorAll(n)},n.byId=function(e){return document.getElementById(e)},n.first=function(e,t){return 1===arguments.length?n.isElement(e)?e.children[0]:void console.warn("$summer.first Function need el param, el param must be DOM Element"):2===arguments.length?this.dom(e,t+":first-child"):void 0},n.last=function(e,t){if(1===arguments.length){if(!n.isElement(e))return void console.warn("$summer.last Function need el param, el param must be DOM Element");var r=e.children;return r[r.length-1]}if(2===arguments.length)return this.dom(e,t+":last-child")},n.eq=function(e,n){return this.dom(e,":nth-child("+n+")")},n.not=function(e,n){return this.domAll(e,":not("+n+")")},n.prev=function(e){if(!n.isElement(e))return void console.warn("$api.prev Function need el param, el param must be DOM Element");var t=e.previousSibling;return t.nodeType&&3===t.nodeType?t=t.previousSibling:void 0},n.next=function(e){if(!n.isElement(e))return void console.warn("$api.next Function need el param, el param must be DOM Element");var t=e.nextSibling;return t.nodeType&&3===t.nodeType?t=t.nextSibling:void 0},n.closest=function(e,t){if(!n.isElement(e))return void console.warn("$api.closest Function need el param, el param must be DOM Element");var r,a,i=function(e,n){var t=0,r=e.length;for(t;t<r;t++)if(e[t].isEqualNode(n))return e[t];return!1},o=function(e,t){for(r=n.domAll(e.parentNode,t),a=i(r,e);!a;){if(e=e.parentNode,null!=e&&e.nodeType==e.DOCUMENT_NODE)return!1;o(e,t)}return a};return o(e,t)},n.contains=function(e,n){var t=!1;if(n===e)return t=!0;do if(n=n.parentNode,n===e)return t=!0;while(n===document.body||n===document.documentElement);return t},n.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},n.attr=function(e,t,r){return n.isElement(e)?2==arguments.length?e.getAttribute(t):3==arguments.length?(e.setAttribute(t,r),e):void 0:void console.warn("$api.attr Function need el param, el param must be DOM Element")},n.removeAttr=function(e,t){return n.isElement(e)?void(2===arguments.length&&e.removeAttribute(t)):void console.warn("$api.removeAttr Function need el param, el param must be DOM Element")},n.hasCls=function(e,t){return n.isElement(e)?e.className.indexOf(t)>-1:void console.warn("$api.hasCls Function need el param, el param must be DOM Element")},n.addCls=function(e,t){if(!n.isElement(e))return void console.warn("$api.addCls Function need el param, el param must be DOM Element");if("classList"in e)e.classList.add(t);else{var r=e.className,a=r+" "+t;e.className=a}return e},n.removeCls=function(e,t){if(!n.isElement(e))return void console.warn("$api.removeCls Function need el param, el param must be DOM Element");if("classList"in e)e.classList.remove(t);else{var r=e.className,a=r.replace(t,"");e.className=a}return e},n.toggleCls=function(e,t){return n.isElement(e)?("classList"in e?e.classList.toggle(t):n.hasCls(e,t)?n.addCls(e,t):n.removeCls(e,t),e):void console.warn("$api.toggleCls Function need el param, el param must be DOM Element")},n.val=function(e,t){if(!n.isElement(e))return void console.warn("$api.val Function need el param, el param must be DOM Element");if(1===arguments.length)switch(e.tagName){case"SELECT":var r=e.options[e.selectedIndex].value;return r;case"INPUT":return e.value;case"TEXTAREA":return e.value}if(2===arguments.length)switch(e.tagName){case"SELECT":return e.options[e.selectedIndex].value=t,e;case"INPUT":return e.value=t,e;case"TEXTAREA":return e.value=t,e}},n.prepend=function(e,t){return n.isElement(e)?(e.insertAdjacentHTML("afterbegin",t),e):void console.warn("$api.prepend Function need el param, el param must be DOM Element")},n.append=function(e,t){return n.isElement(e)?(e.insertAdjacentHTML("beforeend",t),e):void console.warn("$api.append Function need el param, el param must be DOM Element")},n.before=function(e,t){return n.isElement(e)?(e.insertAdjacentHTML("beforebegin",t),e):void console.warn("$api.before Function need el param, el param must be DOM Element")},n.after=function(e,t){return n.isElement(e)?(e.insertAdjacentHTML("afterend",t),e):void console.warn("$api.after Function need el param, el param must be DOM Element")},n.html=function(e,t){return n.isElement(e)?1===arguments.length?e.innerHTML:2===arguments.length?(e.innerHTML=t,e):void 0:void console.warn("$api.html Function need el param, el param must be DOM Element")},n.text=function(e,t){return n.isElement(e)?1===arguments.length?e.textContent:2===arguments.length?(e.textContent=t,e):void 0:void console.warn("$api.text Function need el param, el param must be DOM Element")},n.offset=function(e){if(!n.isElement(e))return void console.warn("$api.offset Function need el param, el param must be DOM Element");var t,r;document.documentElement?(t=document.documentElement.scrollLeft,r=document.documentElement.scrollTop):(t=document.body.scrollLeft,r=document.body.scrollTop);var a=e.getBoundingClientRect();return{l:a.left+t,t:a.top+r,w:e.offsetWidth,h:e.offsetHeight}},n.css=function(e,t){return n.isElement(e)?void("string"==typeof t&&t.indexOf(":")>0&&e.style&&(e.style.cssText+=";"+t)):void console.warn("$api.css Function need el param, el param must be DOM Element")},n.cssVal=function(t,r){if(!n.isElement(t))return void console.warn("$api.cssVal Function need el param, el param must be DOM Element");if(2===arguments.length){var a=e.getComputedStyle(t,null);return a.getPropertyValue(r)}},n.jsonToStr=function(e){return"object"==typeof e?JSON&&JSON.stringify(e):void alert("$summer.jsonToStr's parameter is not a json, it's typeof is "+typeof e)},n.strToJson=function(e){return"string"==typeof e?JSON&&JSON.parse(e):void alert("$summer.strToJson's parameter is not a string, it's typeof is "+typeof e)},n.winWidth=function(){return document.documentElement.offsetWidth||document.body.offsetWidth},n.winHeight=function(){return document.documentElement.offsetHeight||document.body.offsetHeight},n.fixStatusBar=function(e){if(!n.isElement(e))return void alert("$summer.fixStatusBar Function need el param, el param must be DOM Element");if("ios"==$summer.os||"pc"==$summer.os){$(e).children().css("top","20px");var t=summer.systemVersion;parseInt(t,10),summer.fullScreen,summer.statusBarAppearance;e.style.paddingTop="20px",$(e).children().css("top","20px")}},n.toast=function(e,n,t){},n.post=function(){},n.get=function(){},e.$summer=e.$summer||n,e.$api=e.$summer}(window),+function(e,n){e.adrinvoker&&alert(e.adrinvoker);var t={};if(e.adrinvoker&&e.adrinvoker.call2&&alert(e.adrinvoker.call2),t.call=function(e,n){if(navigator.platform.toLowerCase().indexOf("win")>=0)return void alert("执行"+e+"完毕\n参数是："+n);n=n||"{}";var t=summer.require("summer-plugin-service.XService");t.call(e,$summer.strToJson(n))},t.call2=function(e,n){return navigator.platform.toLowerCase().indexOf("win")>=0?void alert("执行"+e+"完毕\n参数是："+n):"undefined"!=typeof summerBridge?summerBridge.callSync(e,n):void alert("summerBridge is not defined by native successfully!")},e.adrinvoker=t,"undefined"!=typeof CurrentEnvironment&&("ios"==$summer.os?CurrentEnvironment.DeviceType=CurrentEnvironment.DeviceIOS:"android"==$summer.os&&(CurrentEnvironment.DeviceType=CurrentEnvironment.DeviceAndroid)),"undefined"==typeof r)var r=function(e,n){return t.call2(e,n)};else alert("UM_callNativeService is exist! fatal error!"),alert(r);e.UM_callNativeService=r,"undefined"==typeof UM_callNativeServiceNoraml?UM_callNativeServiceNoraml=function(e,n){return t.call(e,n)}:(alert("UM_callNativeServiceNoraml is exist! fatal error!"),alert(UM_callNativeServiceNoraml)),e.UM_callNativeServiceNoraml=UM_callNativeServiceNoraml,n.callSync=function(e,n){var t=n;"object"==typeof n?t=JSON.stringify(n):"string"!=typeof n&&(t=n.toString());try{return summerBridge.callSync(e,t)}catch(r){if("pc"==$summer.os)return n;alert(r)}},n.callCordova=function(e,n,t,r,a){if(this.canrequire()&&!this.__debug){var i=this.cordova.require(e);i[n]?i[n](t,r,a):alert("the cordova plug["+e+"]'s method["+n+"] not implementation")}else console.log("the cordova plug["+e+"]'s method["+n+"] executed!")}}(window,summer),+function(w,s){w.$__cbm=[],s||(s={},w.summer=s);var $validator={check:function(e,n,t){for(var r=0,a=n.length;r<a;r++)if(void 0==e[n[r]]||null==e[n[r]]){var i="参数["+n[r]+"]不能为空";return alert(t?t+i:i),!1}return!0},checkIfExist:function(e,n,t){for(var r=0,a=n.length;r<a;r++){var i=n[r];if(i in e&&$summer.isEmpty(e[i])){var o="参数["+n[r]+"]不能为空";return alert(t?t+o:o),!1}}return!0},isEmpty:function(e){return $summer.isEmpty(e)},isJSONObject:function(e){$summer.isJSONObject(e)&&alert("参数不是一个有效的JSONObject")},isNamespace:function(e){if("undefined"==typeof e||null===e)return!1;if("string"==typeof e&&""==e)return!1;if(e.indexOf(".")<0||"."==e.substring(0,1)||"."==e.substring(e.length-1))return alert("包名非法，不包含.或以.开始结束"),!1;for(var n=e.split("."),t=0,r=n.length;t<r;t++){var a=n[t];if(""==a)return alert("非法的包名中连续含有两个."),!1;var i=/^[a-z]+([a-zA-Z_][a-zA-Z_0-9]*)*$/;if(!i.test(a))return alert("非法的包名"),!1}return!0}};s.service={call:function(serviceType,jsonArgs,isSync){try{var serviceparams="";if("string"==typeof jsonArgs){var json=JSON.parse(jsonArgs);if("string"==typeof json)return void alert("调用服务["+serviceType+"]时参数不是一个有效的json字符串。参数是"+jsonArgs);if(serviceparams=JSON.stringify(json),"object"==typeof serviceparams)return void alert("调用服务["+serviceType+"]时传递的参数不能标准化为json字符串，请检查参数格式。参数是"+jsonArgs)}else{if("object"!=typeof jsonArgs)return void alert("调用$service.call("+serviceType+", jsonArgs, "+isSync+")时不合法,参数jsonArgs类型为"+typeof jsonArgs);if(jsonArgs.callback&&"function"==typeof jsonArgs.callback){for(var newCallBackScript="fun"+$summer.UUID(8,16)+"()";$__cbm[newCallBackScript];)newCallBackScript="fun"+$summer.UUID(8,16)+"()";$__cbm[newCallBackScript]=jsonArgs.callback,window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]=function(e,n){try{void 0==n&&(n=e);var t=$__cbm[newCallBackScript];t(e,n)}catch(r){alert(r)}finally{delete $__cbm[newCallBackScript],delete window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]}},jsonArgs.callback=newCallBackScript}else if(jsonArgs.callback&&"string"==typeof jsonArgs.callback){var cbName=jsonArgs.callback.substring(0,jsonArgs.callback.indexOf("(")),callbackFn=eval(cbName);if("function"!=typeof callbackFn)return void alert(cbName+" is not a global function, callback function must be a global function!");for(var newCallBackScript="fun"+$summer.UUID(8,16)+"()";window[newCallBackScript];)newCallBackScript="fun"+$summer.UUID(8,16)+"()";window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]=function(e,n){try{void 0==n&&(n=e),callbackFn(e,n)}catch(t){alert(t)}finally{delete window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]}},jsonArgs.callback=newCallBackScript}if(this.callBackProxy(jsonArgs,"error"),serviceparams=JSON.stringify(jsonArgs),"object"==typeof serviceparams)return void alert("调用服务["+serviceType+"]时传递的参数不能标准化为json字符串，请检查参数格式"+jsonArgs)}return isSync?adrinvoker.call2(serviceType,serviceparams):adrinvoker.call(serviceType,serviceparams)}catch(e){var info="";info=isSync?'调用$service.call("'+serviceType+'", jsonArgs, '+isSync+")时发生异常,请检查!":'调用$service.call("'+serviceType+'", jsonArgs)时发生异常,请检查!',console.log(info),alert(info+", 更多请查看console日志;\n错误堆栈信息为:\n"+e.stack)}},callBackProxy:function(jsonArgs,callback_KEY){if(jsonArgs[callback_KEY]&&"function"==typeof jsonArgs[callback_KEY]){for(var newCallBackFnName=callback_KEY+$summer.UUID(8,16);$__cbm[newCallBackFnName];)newCallBackFnName=callback_KEY+$summer.UUID(8,16);$__cbm[newCallBackFnName]=jsonArgs[callback_KEY],window[newCallBackFnName]=function(e,n){try{void 0==n&&(n=e);var t=jsonArgs[callback_KEY];t(e,n)}catch(r){alert(r)}finally{delete $__cbm[newCallBackFnName],delete window[newCallBackFnName]}},jsonArgs[callback_KEY]=newCallBackFnName+"()"}else if(jsonArgs[callback_KEY]&&"string"==typeof jsonArgs[callback_KEY]){var cbName=jsonArgs[callback_KEY].substring(0,jsonArgs[callback_KEY].indexOf("(")),callbackFn=eval(cbName);if("function"!=typeof callbackFn)return void alert(cbName+" is not a global function, callback function must be a global function!");for(var newCallBackFnName=callback_KEY+$summer.UUID(8,16);window[newCallBackFnName];)newCallBackFnName=callback_KEY+$summer.UUID(8,16);window[newCallBackFnName]=function(e,n){try{void 0==n&&(n=e),callbackFn(e,n)}catch(t){alert(t)}finally{delete window[newCallBackFnName]}},jsonArgs[callback_KEY]=newCallBackFnName+"()"}},callAction:function(e,n,t,r,a,i,o){if(1==arguments.length&&"object"==typeof arguments[0]){var l={};l=e;var c={viewid:"xxx.xxx.xx",action:"methodName",autoDataBinding:!0,contextmapping:"fieldPath",callback:"actionid",error:"errorActionId"};for(key in l)c.hasOwnProperty(key)||"string"!=typeof l[key]||(l[key]=$stringToJSON(l[key]));return UM_NativeCall.callService("UMService.callAction",l,!1)}var l={};if(l.viewid=e,l.action=n,l.params=t,l.isDataCollect=r,l.callback=a,l.contextmapping=i,o)for(key in o)l[key]=o[key];return UM_NativeCall.callService("UMService.callAction",l)}},s.UMDevice={writeFile:function(e,n){var t={};return e&&(t.path=e),n&&(t.content=n),s.service.call("UMFile.write",t,!1)},readFile:function(e){var n="",t={};if(e&&(t.path=e),n=s.service.call("UMFile.read",t,!0),!n||""==n)return null;try{return n}catch(r){return n}},openCamera:function(e){if($validator.checkIfExist(e,["callback","compressionRatio"]))return s.service.call("UMDevice.openCamera",e,!1)}},s.writeFile=s.UMDevice.writeFile,s.readFile=s.UMDevice.readFile,s.openCamera=s.UMDevice.openCamera}(window,summer),function(e,n,t,r){n.umRef=function(){};var a={refs:{},exec:function(e,n){this.refs[e].callback(n),delete this.refs[e]}};n.openRef=function(e,i){var o=new n.umRef,l=n.getSysInfo();o.param={ref_id:"Fn"+t.UUID(),ref_winId:l.winId,ref_frameId:l.frameId,ref_callBack:r+".refCallBack"},o.callback=i,a.refs[o.param.ref_id]=o,e.pageParam=e.pageParam||{},e.pageParam.refParam=o.param,n.openWin(e)},n.refCallBack=function(e,n){a.exec(e,n)},n.comleteRef=function(e){var t=e;"object"==typeof e?t=JSON.stringify(e):"string"==typeof e&&(t="'"+e+"'");var r={};r.um_refId=n.pageParam.refParam.ref_id,r.um_winId=n.pageParam.refParam.ref_winId,r.um_frameId=n.pageParam.refParam.ref_frameId,r.um_callBack=n.pageParam.refParam.ref_callBack,n.execScript({winId:r.um_winId,frameId:r.um_frameId,script:r.um_callBack+"('"+r.um_refId+"',"+t+");"}),n.closeWin()}}(window,summer,$summer,"summer");